!function(){$.each=function(t,e){for(var n=0,r=t.length;r>n;++n)e.call(t[n],n,t[n]);return this};var t=["addClass","removeClass","toggleClass"],e=["add","remove","toggle"];t.forEach(function(t,n){$.prototype[t]=function(t){return this.each(function(r){r.classList[e[n]](t)})}}),$.prototype.hasClass=function(t){return this[0].classList.contains(t)},$.prototype.append=function(t){return this.each(function(e){e.appendChild(t[0])})},$.prototype.prepend=function(t){return this.each(function(e){e.insertBefore(t[0],e.firstChild)})},$.prototype.hide=function(){return this.each(function(t){t.style.display="none"})},$.prototype.show=function(){return this.each(function(t){t.style.display=""})},$.prototype.attr=function(t,e){return e===[]._?this[0].getAttribute(t):this.each(function(n){n.setAttribute(t,e)})},$.prototype.removeAttr=function(t){return this.each(function(e){e.removeAttribute(t)})},$.prototype.hasAttr=function(t){return this[0].hasAttribute(t)},$.prototype.before=function(t){return this.each(function(e){e.insertAdjacentHTML("beforebegin",t)})},$.prototype.after=function(t){return this.each(function(e){e.insertAdjacentHTML("afterend",t)})},$.prototype.css=function(t,e){if("object"==typeof t){for(var n in t)this.each(function(e){e.style[n]=t[n]});return this}return e===[]._?this[0].style[t]:this.each(function(n){n.style[t]=e})},$.prototype.first=function(){return $(this[0])},$.prototype.last=function(){return $(this[this.length-1])},$.prototype.get=function(t){return $(this[t])},$.prototype.text=function(t){return t===[]._?this[0].textContent:this.each(function(e){e.textContent=t})},$.prototype.html=function(t){return t===[]._?this[0].innerHTML:this.each(function(e){e.innerHTML=t})},$.prototype.parent=function(){return this.length<2?$(this[0].parentNode):[]},$.prototype.remove=function(){return this.each(function(t){t.parentNode.removeChild(t)})},$.prototype.empty=function(){return this.each(function(t){t.parentNode.removeChild(t)})},$.mk=function(t,e,n){return e=document,n=e.createElement(t)},$.getId=function(t){return document.getElementById(t)},$.mkhtml=function(t,e,n){for(e=document,n=e.createElement("p"),n.innerHTML=t,t=e.createDocumentFragment();e=n.firstChild;)t.appendChild(e);return t},$.setTO=function(t,e){return window.setTimeout(t,e)},$.trim=function(t){return t.replace(/^\s+|\s+$/g,"")},$.prototype.trigger=function(t){if(document.createEvent){var e=document.createEvent("HTMLEvents");e.initEvent(t,!0,!1),this.each(function(t){t.dispatchEvent(e)})}else this.each(function(e){e.fireEvent("on"+t)})},$.prototype.is=function(t){var e=this[0].matches||this[0].matchesSelector||this[0].msMatchesSelector||this[0].mozMatchesSelector||this[0].webkitMatchesSelector||this[0].oMatchesSelector;if(e)return e.call(this[0],t);for(var n=this[0].parentNode.querySelectorAll(t),r=n.length;r--;)if(n[r]===this[0])return!0;return!1},"filter map".split(" ").forEach(function(t){$[t]=function(e,n){return e[t](n)}}),$.stop=function(t){t.preventDefault?t.preventDefault():t.returnValue=!1},$.param=function(t,e){var n=[];for(var r in t){var o=e?e+"["+r+"]":r,i=t[r];n.push("object"==typeof i?$.param(i,o):encodeURIComponent(o)+"="+encodeURIComponent(i))}return n.join("&")},$.ajax=function(t,e,n){var r=new XMLHttpRequest,o=new $.Deferred,i="object"==typeof e?1:0,s=["GET","POST"];r.open(s[i],t,!0);var u=i?n:e;return"undefined"==typeof n&&"function"!=typeof e&&(u=function(){}),r.onerror=function(){o.reject(this),u(this,!0)},r.onreadystatechange=function(){4===this.readyState&&(this.status>=200&&this.status<400?(o.resolve(this.response),u(this.response,!0)):(o.reject(this),u(this,!0)))},i?"POST"==s[i]?(r.setRequestHeader("Content-type","application/json"),r.send(JSON.stringify(e))):(r.setRequestHeader("Content-type","application/x-www-form-urlencoded"),r.send($.param(e))):r.send(),r=null,o.promise()},function(t){function e(t){return"[object Array]"===Object.prototype.toString.call(t)}function n(t,n){if(e(t))for(var r=0;r<t.length;r++)n(t[r]);else n(t)}function r(t){var o="pending",i=[],s=[],u=[],a=[],c={done:function(){for(var t=0;t<arguments.length;t++)if(arguments[t])if(e(arguments[t]))for(var n=arguments[t],r=0;r<n.length;r++)"resolved"===o&&n[r].apply(this,a),i.push(n[r]);else"resolved"===o&&arguments[t].apply(this,a),i.push(arguments[t]);return this},fail:function(){for(var t=0;t<arguments.length;t++)if(arguments[t])if(e(arguments[t]))for(var n=arguments[t],r=0;r<n.length;r++)"rejected"===o&&n[r].apply(this,a),s.push(n[r]);else"rejected"===o&&arguments[t].apply(this,a),s.push(arguments[t]);return this},always:function(){return this.done.apply(this,arguments).fail.apply(this,arguments)},progress:function(){for(var t=0;t<arguments.length;t++)if(arguments[t])if(e(arguments[t]))for(var n=arguments[t],r=0;r<n.length;r++)"pending"===o&&u.push(n[r]);else"pending"===o&&u.push(arguments[t]);return this},then:function(){arguments.length>1&&arguments[1]&&this.fail(arguments[1]),arguments.length>0&&arguments[0]&&this.done(arguments[0]),arguments.length>2&&arguments[2]&&this.progress(arguments[2])},promise:function(t){if("undefined"==typeof t)return c;for(var e in c)t[e]=c[e];return t},state:function(){return o},debug:function(){console.log("[debug]",i,s,o)},isRejected:function(){return"rejected"===o},isResolved:function(){return"resolved"===o},pipe:function(t,e,o){return r(function(r){n(t,function(t){"function"==typeof t?f.done(function(){var e=t.apply(this,arguments);e&&"function"==typeof e?e.promise().then(r.resolve,r.reject,r.notify):r.resolve(e)}):f.done(r.resolve)}),n(e,function(t){"function"==typeof t?f.fail(function(){var e=t.apply(this,arguments);e&&"function"==typeof e?e.promise().then(r.resolve,r.reject,r.notify):r.reject(e)}):f.fail(r.reject)})}).promise()}},f={resolveWith:function(t){if("pending"===o){o="resolved";for(var e=a=arguments.length>1?arguments[1]:[],n=0;n<i.length;n++)i[n].apply(t,e)}return this},rejectWith:function(t){if("pending"===o){o="rejected";for(var e=a=arguments.length>1?arguments[1]:[],n=0;n<s.length;n++)s[n].apply(t,e)}return this},notifyWith:function(t){if("pending"===o)for(var e=a=arguments.length>1?arguments[1]:[],n=0;n<u.length;n++)u[n].apply(t,e);return this},resolve:function(){return this.resolveWith(this,arguments)},reject:function(){return this.rejectWith(this,arguments)},notify:function(){return this.notifyWith(this,arguments)}},h=c.promise(f);return t&&t.apply(h,[h]),h}var o=function(){if(arguments.length<2){var t=arguments.length?arguments[0]:void 0;return t&&"function"==typeof t.isResolved&&"function"==typeof t.isRejected?t.promise():r().resolve(t).promise()}return function(t){for(var e=r(),n=t.length,o=0,i=new Array(n),s=0;s<t.length;s++)!function(r){var s=null;t[r].done?t[r].done(function(){i[r]=arguments.length<2?arguments[0]:arguments,++o==n&&e.resolve.apply(e,i)}).fail(function(){e.reject(arguments)}):(s=t[r],t[r]=new Deferred,t[r].done(function(){i[r]=arguments.length<2?arguments[0]:arguments,++o==n&&e.resolve.apply(e,i)}).fail(function(){e.reject(arguments)}).resolve(s))}(s);return e.promise()}(arguments)};t.Deferred=r,t.when=r.when=o}($)}();
